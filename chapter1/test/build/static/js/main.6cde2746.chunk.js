(this["webpackJsonpst-app"]=this["webpackJsonpst-app"]||[]).push([[0],Array(32).concat([function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){},,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,,function(e,t,i){},function(e,t,i){},,function(e,t,i){},,function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),a=i(21),l=i.n(a),r=(i(32),i(3)),o=i(4),c=i(6),d=i(5),h=(i(33),i(34),i(35),i(0));var m=function(e){return Object(h.jsxs)("span",{children:[Object(h.jsx)("button",{id:"playbackOptionsButton",type:"button",className:"btn","data-bs-toggle":"modal","data-bs-target":"#playbackOptionsModal",title:"Options Menu",children:Object(h.jsx)("svg",{width:"1.3em",height:"1.3em",viewBox:"0 0 16 16",className:"bi bi-gear-wide",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M8.932.727c-.243-.97-1.62-.97-1.864 0l-.071.286a.96.96 0 0 1-1.622.434l-.205-.211c-.695-.719-1.888-.03-1.613.931l.08.284a.96.96 0 0 1-1.186 1.187l-.284-.081c-.96-.275-1.65.918-.931 1.613l.211.205a.96.96 0 0 1-.434 1.622l-.286.071c-.97.243-.97 1.62 0 1.864l.286.071a.96.96 0 0 1 .434 1.622l-.211.205c-.719.695-.03 1.888.931 1.613l.284-.08a.96.96 0 0 1 1.187 1.187l-.081.283c-.275.96.918 1.65 1.613.931l.205-.211a.96.96 0 0 1 1.622.434l.071.286c.243.97 1.62.97 1.864 0l.071-.286a.96.96 0 0 1 1.622-.434l.205.211c.695.719 1.888.03 1.613-.931l-.08-.284a.96.96 0 0 1 1.187-1.187l.283.081c.96.275 1.65-.918.931-1.613l-.211-.205a.96.96 0 0 1 .434-1.622l.286-.071c.97-.243.97-1.62 0-1.864l-.286-.071a.96.96 0 0 1-.434-1.622l.211-.205c.719-.695.03-1.888-.931-1.613l-.284.08a.96.96 0 0 1-1.187-1.186l.081-.284c.275-.96-.918-1.65-1.613-.931l-.205.211a.96.96 0 0 1-1.622-.434L8.932.727zM8 12.997a4.998 4.998 0 1 0 0-9.995 4.998 4.998 0 0 0 0 9.996z"})})}),Object(h.jsx)("div",{id:"playbackOptionsModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-modal":"true","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",children:"Playback Options"}),Object(h.jsx)("button",{type:"button",id:"optionsCloseButton",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:"Options Go Here"})]})})})]})};var u=function(e){var t="btn",i="btn";return e.isInBlogMode?i+=" activeModeButton":t+=" activeModeButton",Object(h.jsxs)("div",{className:"title-bar",id:"title-bar",children:[Object(h.jsx)("span",{className:"st-logo",children:"Storyteller: "}),Object(h.jsx)("span",{className:"playback-title",children:e.playbackTitle}),Object(h.jsxs)("div",{className:"btn-group optionsButtonsGroup",role:"group","aria-label":"Options Button Group",children:[Object(h.jsx)("button",{id:"enterCodeModeButton",onClick:e.enterCodeMode,type:"button",className:t,title:"Code View",children:Object(h.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 16 16",className:"bi bi-code-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(h.jsx)("path",{fillRule:"evenodd",d:"M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0zm2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0z"})]})}),Object(h.jsx)("button",{id:"enterBlogModeButton",onClick:e.enterBlogMode,type:"button",className:i,title:"Blog View",children:Object(h.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 16 16",className:"bi bi-journal-richtext",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("path",{d:"M4 1h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1H2a2 2 0 0 1 2-2z"}),Object(h.jsx)("path",{d:"M2 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H2zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H2zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H2z"}),Object(h.jsx)("path",{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm1.639-4.208l1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047L11 4.75V7a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 7v-.5s1.54-1.274 1.639-1.208zM6.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"})]})}),Object(h.jsx)(m,{increaseFontSize:"todo",decreaseFontSize:"todo",increasePlaybackSpeed:"todo",decreasePlaybackSpeed:"todo"})]})]})},v=(i(37),i(38),i(10)),p=i.n(v);i(20);var b=function(e){var t,i=[],n=[],s=[];if(e.comment.selectedCodeBlocks[0]){var a=[],l=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=e.comment;o.selectedCodeBlocks.forEach((function(e){e.startRow<l&&(l=e.startRow),e.endRow>r&&(r=e.endRow),a.push({startRow:e.startRow,startCol:e.startColumn,endRow:e.endRow,endCol:e.endColumn,type:"text",className:"selectedCodeHighlight"})}));var c=l-Number.parseInt(o.linesAbove),d=r+Number.parseInt(o.linesBelow)-c+1;t=Object(h.jsx)(p.a,{readOnly:!0,fontSize:e.fontSize,width:"100%",theme:"monokai",setOptions:{firstLineNumber:c+1},maxLines:d,markers:a,value:e.comment.viewableBlogText,highlightActiveLine:!1,highlightGutterLine:!1,showPrintMargin:!1})}return e.comment.videoURLs.length>0&&e.comment.videoURLs.forEach((function(e){n.push(Object(h.jsxs)("video",{className:"blogModeVideo",controls:!0,children:[Object(h.jsx)("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]},e))})),e.comment.audioURLs.length>0&&e.comment.audioURLs.forEach((function(e){i.push(Object(h.jsxs)("audio",{className:"blogModeAudio",controls:!0,children:[Object(h.jsx)("source",{src:e,type:"audio/mp3"}),"Your browser does not support the audio tag."]},e))})),e.comment.imageURLs.length>0&&e.comment.imageURLs.forEach((function(e){s.push(Object(h.jsx)("img",{className:"blogModePicture",src:e,alt:"code"},e))})),Object(h.jsxs)("div",{className:"blogStyle",children:[Object(h.jsx)("div",{className:e.isDescriptionComment?"descriptionComment":"blogCommentText",dangerouslySetInnerHTML:{__html:e.comment.commentText}}),n,i,Object(h.jsx)("div",{className:"blogPostFileName",children:e.comment.currentFilePath}),t,s]},e.comment.id)};i(46);var f=function(e){var t=new Set;for(var i in e.allDeveloperGroups){var n=e.allDeveloperGroups[i];"devGroupId-0"!==i&&"devGroupId-1"!==i&&n.memberIds.forEach((function(e){return t.add(e)}))}var s=Array.from(t).map((function(t){var i=e.allDevelopers[t],n=e.sizeInPixels?e.sizeInPixels:40,s="".concat(i.avatarURL,"?s=").concat(n,"&d=ideinticon");return Object(h.jsxs)("div",{className:"devImages blogDeveloperDiv",children:[Object(h.jsx)("img",{src:s,className:"devImage rounded-circle img-thumbnail",title:i.userName+" "+i.email,alt:i.userName+" "+i.email}),Object(h.jsx)("div",{className:"blogUserName",children:i.userName}),Object(h.jsx)("a",{href:"mailto:"+i.email,className:"devEmail",title:"Click to send email",children:i.email})]},i.id)}));return Object(h.jsx)("div",{children:s})};var g=function(e){var t=[];for(var i in e.comments)t.push(i);for(var n=[],s=0;s<t.length;s++)for(var a=e.comments[t[s]],l=0;l<a.length;l++){var r=a[l],o=Object(h.jsx)(b,{isDescriptionComment:0===s&&0===l,fontSize:e.fontSize,comment:r},r.id);n.push(o)}return Object(h.jsx)("div",{className:"blogView",children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsxs)("div",{className:"h1 blogTitle",children:[" ",e.title," "]}),Object(h.jsxs)("div",{className:"blogDevelopersDiv",children:[Object(h.jsx)("div",{className:"devImages blogDeveloperDiv",children:Object(h.jsx)("div",{className:"blogUserName",children:Object(h.jsx)(f,{allDeveloperGroups:e.developerGroups,allDevelopers:e.developers})})}),Object(h.jsx)("hr",{className:"devDescriptionSeparater"})]}),n]})})},C=(i(47),i(48),i(49),i(50),function(e){Object(c.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).addToIndex=function(){n.state.index+1===n.props.imageURLs.length?n.setState({index:0}):n.setState({index:n.state.index+1})},n.subtractFromIndex=function(){-1===n.state.index-1?n.setState({index:n.props.imageURLs.length-1}):n.setState({index:n.state.index-1})},n.state={index:0},n}return Object(o.a)(i,[{key:"render",value:function(){var e=this.props.imageURLs[this.state.index];return Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{id:"carouselCommentControls",className:"carousel slide","data-bs-interval":"false","data-bs-ride":"carousel",children:[Object(h.jsx)("div",{className:"carousel-inner","data-bs-toggle":"modal","data-bs-target":"#imagesModal",title:"Images Menu",children:Object(h.jsx)("div",{className:"carousel-item active",children:Object(h.jsx)("img",{src:e,className:"d-block w-100",alt:"..."})})}),Object(h.jsxs)("button",{className:"carousel-control-prev",onClick:this.subtractFromIndex,type:"button","data-bs-target":"#carouselCommentControls",children:[Object(h.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(h.jsxs)("button",{className:"carousel-control-next",onClick:this.addToIndex,type:"button","data-bs-target":"#carouselCommentControls",children:[Object(h.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"visually-hidden",children:"Next"})]})]}),Object(h.jsx)("div",{id:"imagesModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-modal":"true","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog modal-xl",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",children:"Images"}),Object(h.jsx)("button",{type:"button",id:"optionsCloseButton",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{id:"carouselModalControls",className:"carousel slide","data-bs-interval":"false","data-bs-ride":"carousel",children:[Object(h.jsx)("div",{className:"carousel-inner",children:Object(h.jsx)("div",{className:"carousel-item active",children:Object(h.jsx)("img",{src:e,className:"d-block w-100",alt:"..."})})}),Object(h.jsxs)("button",{className:"carousel-control-prev",onClick:this.subtractFromIndex,type:"button","data-bs-target":"#carouselModalControls",children:[Object(h.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(h.jsxs)("button",{className:"carousel-control-next",onClick:this.addToIndex,type:"button","data-bs-target":"#carouselModalControls",children:[Object(h.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})})]})})})]})}}]),i}(s.a.Component));i(51);var y=function(e){var t=Object(n.useRef)(),i=e.videoURLs.map((function(i,n){return Object(h.jsx)("video",{ref:t,src:i,onPlay:function(){t.current.playbackRate=e.mediaPlaybackSpeed},controls:!0,style:{width:"95%",maxHeight:"300px"}},n)}));return Object(h.jsxs)("div",{className:"video-box",children:[Object(h.jsx)("div",{children:i}),Object(h.jsx)("button",{className:"btn-speed",onClick:function(){e.setMediaPlaybackSpeed(1),t.current.playbackRate=1},children:"1x"}),Object(h.jsx)("button",{className:"btn-speed",onClick:function(){e.setMediaPlaybackSpeed(2),t.current.playbackRate=2},children:"2x"})]})};i(52);var j=function(e){var t=Object(n.useRef)(),i=e.audioURLs.map((function(i,n){return Object(h.jsx)("audio",{ref:t,src:i,onPlay:function(){t.current.playbackRate=e.mediaPlaybackSpeed},controls:!0,style:{width:"95%",maxHeight:"300px"}},n)}));return Object(h.jsxs)("div",{className:"audio-box",children:[Object(h.jsx)("div",{children:i}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"btn-speed",onClick:function(){e.setMediaPlaybackSpeed(1),t.current.playbackRate=1},children:"1x"}),Object(h.jsx)("button",{className:"btn-speed",onClick:function(){e.setMediaPlaybackSpeed(2),t.current.playbackRate=2},children:"2x"})]})]})};i(53);var k=function(e){var t=e.allDeveloperGroups[e.developerGroupId].memberIds.map((function(t){var i=e.allDevelopers[t],n=e.sizeInPixels?e.sizeInPixels:40,s="".concat(i.avatarURL,"?s=").concat(n,"&d=ideinticon");return Object(h.jsx)("img",{src:s,className:"devImage rounded-circle img-thumbnail",title:i.userName+" "+i.email,alt:i.userName+" "+i.email},i.id)}));return Object(h.jsx)("div",{children:t})};var x=function(e){return Object(h.jsxs)("div",{id:e.id,onClick:function(t){return i=t,n=e.id,i.preventDefault(),void e.moveToSelectedComment(n);var i,n},className:e.isActive?"commentView activeComment":"commentView",children:[Object(h.jsx)("div",{className:"commentTopBar",children:e.descriptionComment?Object(h.jsx)("div",{className:"titleBar",children:e.playbackTitle}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"commentCount text-muted float-end",children:[e.commentNumber,"/",e.totalNumberOfComments]}),Object(h.jsx)("div",{className:"commentAvatar rounded",children:Object(h.jsx)(k,{developerGroupId:e.comment.developerGroupId,sizeInPixels:40,allDevelopers:e.developers,allDeveloperGroups:e.developerGroups})})]})}),Object(h.jsx)("div",{className:"commentText",dangerouslySetInnerHTML:{__html:e.comment.commentText}}),Object(h.jsxs)("div",{children:[function(){if(e.comment.imageURLs.length>0)return Object(h.jsx)(C,{imageURLs:e.comment.imageURLs})}(),function(){if(e.comment.videoURLs.length>0)return Object(h.jsx)(y,{videoURLs:e.comment.videoURLs,setMediaPlaybackSpeed:e.setMediaPlaybackSpeed,mediaPlaybackSpeed:e.mediaPlaybackSpeed})}(),function(){if(e.comment.audioURLs.length>0)return Object(h.jsx)(j,{audioURLs:e.comment.audioURLs,setMediaPlaybackSpeed:e.setMediaPlaybackSpeed,mediaPlaybackSpeed:e.mediaPlaybackSpeed})}()]})]})};var I=function(e){var t=e.comments.map((function(t,i){return Object(h.jsx)(x,{id:t.id,descriptionComment:!(!e.firstCommentGroup||0!==i),playbackTitle:e.playbackTitle,commentNumber:e.startingCommentNumber+i,totalNumberOfComments:e.totalNumberOfComments,isActive:!(!e.activeComment||t.id!==e.activeComment.id),comment:t,developers:e.developers,developerGroups:e.developerGroups,setMediaPlaybackSpeed:e.setMediaPlaybackSpeed,mediaPlaybackSpeed:e.mediaPlaybackSpeed,moveToSelectedComment:e.moveToSelectedComment,activeComment:e.activeComment},t.id)}));return Object(h.jsx)("div",{className:e.isActive?"commentGroup rounded-1 activeCommentGroup":"commentGroup rounded-1",children:t})},E=function(e){Object(c.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).setMediaPlaybackSpeed=function(e){n.setState({mediaPlaybackSpeed:e})},n.state={mediaPlaybackSpeed:1},n}return Object(o.a)(i,[{key:"render",value:function(){var e=this,t=0,i=null;Object.keys(this.props.comments).forEach((function(n){t+=e.props.comments[n].length,e.props.activeComment&&e.props.comments[n].some((function(t){return e.props.activeComment.id===t.id}))&&(i=n)}));for(var n=Object.keys(this.props.comments),s=[],a=0,l=0;l<n.length;l++){var r=n[l];s.push(Object(h.jsx)(I,{commentGroupId:r,playbackTitle:this.props.playbackTitle,firstCommentGroup:0===l,totalNumberOfComments:t-1,startingCommentNumber:a,isActive:i===r,activeComment:i?this.props.activeComment:null,comments:this.props.comments[r],developers:this.props.developers,developerGroups:this.props.developerGroups,setMediaPlaybackSpeed:this.setMediaPlaybackSpeed,mediaPlaybackSpeed:this.state.mediaPlaybackSpeed,moveToSelectedComment:this.props.moveToSelectedComment},r)),a+=this.props.comments[r].length}return Object(h.jsx)("div",{className:"commentNavigator",children:s})}}]),i}(s.a.Component);i(54);var O=function(e){return Object(h.jsx)("div",{children:"This is FileSystem."})};i(55);var w=function(e){return Object(h.jsx)("div",{children:"This is Search."})},N=(i(56),function(e){Object(c.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).toggleCommentsTab=function(){n.setState({commentsNav:!0,fileSystem:!1,searchComments:!1})},n.toggleFileSystemTab=function(){n.setState({commentsNav:!1,fileSystem:!0,searchComments:!1})},n.toggleSearchCommentsTab=function(){n.setState({commentsNav:!1,fileSystem:!1,searchComments:!0})},n.state={commentsNav:!0,fileSystem:!1,searchComments:!1},n}return Object(o.a)(i,[{key:"render",value:function(){var e;return e=this.state.commentsNav?Object(h.jsx)(E,{playbackTitle:this.props.playbackTitle,comments:this.props.comments,activeComment:this.props.activeComment,developers:this.props.developers,developerGroups:this.props.developerGroups,moveToSelectedComment:this.props.moveToSelectedComment}):this.state.fileSystem?Object(h.jsx)(O,{}):Object(h.jsx)(w,{}),Object(h.jsxs)("div",{className:"playbackNavigator",children:[Object(h.jsxs)("ul",{className:"nav nav-tabs",id:"commentTab",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("button",{id:"viewCommentsTab",className:this.state.commentsNav?"nav-link active":"nav-link",onClick:this.toggleCommentsTab,role:"tab","data-toggle":"tab",children:"Comments"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("button",{id:"fsViewTabTab",className:this.state.fileSystem?"nav-link active":"nav-link",onClick:this.toggleFileSystemTab,role:"tab","data-toggle":"tab",children:"File\xa0System"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("button",{id:"searchCommentTab",className:this.state.searchComments?"nav-link active":"nav-link",onClick:this.toggleSearchCommentsTab,role:"tab","data-toggle":"tab",children:"Search"})})]}),e]})}}]),i}(s.a.Component)),F=i(22),D=(i(59),i(60),i(61),i(62),i(26)),M=i.n(D);var P=function(e){return Object(h.jsx)("div",{className:"playbackScrollBar",children:Object(h.jsx)(M.a,{accessibility:!0,start:e.currentEventIndex,step:1,range:{min:e.firstRelevantEventIndex-1,max:e.lastRelevantEventIndex},pips:{mode:"values",density:-1,values:e.commentGroupPositions,format:{to:function(){return"."},from:function(){return""}}},clickablePips:!0,onUpdate:function(t){var i=parseInt(t[0]);i!==e.currentEventIndex&&e.sliderUpdate(i)}})})};var R=function(e){function t(t){t.preventDefault(),e.togglePlayPause(!e.isPaused)}var i;return i=e.isPaused?Object(h.jsx)("button",{id:"playPauseButton",onClick:t,type:"button",className:"playbackControl playbackButton",title:"Play",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-play-circle",viewBox:"0 0 16 16",children:[Object(h.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(h.jsx)("path",{d:"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"})]})}):Object(h.jsx)("button",{id:"playPauseButton",onClick:t,type:"button",className:"playbackControl playbackButton",title:"Pause",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-pause-circle",viewBox:"0 0 16 16",children:[Object(h.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(h.jsx)("path",{d:"M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"})]})}),Object(h.jsxs)("div",{className:"playbackControls",children:[Object(h.jsx)("button",{id:"goToNextCommentButton",onClick:e.moveToNextComment,type:"button",className:"playbackControl playbackButton",title:"Go to the next comment",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-skip-forward-circle",viewBox:"0 0 16 16",children:[Object(h.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(h.jsx)("path",{d:"M4.271 5.055a.5.5 0 0 1 .52.038L7.5 7.028V5.5a.5.5 0 0 1 .79-.407L11 7.028V5.5a.5.5 0 0 1 1 0v5a.5.5 0 0 1-1 0V8.972l-2.71 1.935a.5.5 0 0 1-.79-.407V8.972l-2.71 1.935A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .271-.445z"})]})}),Object(h.jsx)("div",{className:"playbackSlider",children:Object(h.jsx)(P,{currentEventIndex:e.currentEventIndex,activeComment:e.activeComment,firstRelevantEventIndex:e.firstRelevantEventIndex,lastRelevantEventIndex:e.lastRelevantEventIndex,commentGroupPositions:e.commentGroupPositions,sliderUpdate:e.sliderUpdate})}),i,Object(h.jsx)("span",{className:"playbackControl",children:"Dev Group Avatar"})]})};i(64);var S=function(e){var t=[Object(h.jsx)("span",{id:"no-file",className:"fileTab",children:"\xa0"},"no-file")],i=function(i){var n=e.allFiles[i];if(!1===n.isDeleted){var s=n.filePath.lastIndexOf("/"),a=n.filePath.substring(s+1),l="fileTab";e.allChangedFileIds&&e.allChangedFileIds.includes(n.fileId)&&(l+=" fileUpdated"),e.activeFileId===n.fileId&&(l+=" activeFile"),t.push(Object(h.jsx)("span",{id:n.fileId,className:l,onClick:function(t){return function(t,i){t.preventDefault(),e.activeFileId!==i&&e.changeActiveFile(i)}(t,n.fileId)},children:a},n.fileId))}};for(var n in e.allFiles)i(n);return Object(h.jsx)("div",{className:"tabDiv",children:t})},T=function(e){Object(c.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).aceRef=s.a.createRef(),n.insertLineNumbers=[],n.deleteLineNumbers=[],n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){var e=this.aceRef.current;e.editor.setOptions({scrollPastEnd:!0,highlightActiveLine:!1,highlightGutterLine:!1}),e.editor.renderer.$cursorLayer.element.style.display="none",e.editor.session.setMode(this.getAceEditorMode())}},{key:"componentDidUpdate",value:function(){var e=this.aceRef.current;e.editor.session.setMode(this.getAceEditorMode()),this.insertLineNumbers.forEach((function(t){e.editor.session.removeGutterDecoration(t,"insertOnLine")})),this.deleteLineNumbers.forEach((function(t){e.editor.session.removeGutterDecoration(t,"deleteOnLine")})),this.insertLineNumbers=[],this.deleteLineNumbers=[],this.props.newCodeMarkers&&(this.props.newCodeMarkers.allInsertLineNumbers.forEach((function(t){e.editor.session.addGutterDecoration(t,"insertOnLine")})),this.props.newCodeMarkers.allDeleteLineNumbers.forEach((function(t){e.editor.session.addGutterDecoration(t,"deleteOnLine")})),this.insertLineNumbers=this.props.newCodeMarkers.allInsertLineNumbers,this.deleteLineNumbers=this.props.newCodeMarkers.allDeleteLineNumbers)}},{key:"getAceEditorMode",value:function(){var e="text";if(this.props.activeFileId&&this.props.allFiles[this.props.activeFileId]){var t=window.ace.require("ace/ext/modelist"),i=this.props.allFiles[this.props.activeFileId].filePath;e=t.getModeForPath(i).mode}return e}},{key:"getMarkers",value:function(){var e=this,t=[];if(this.props.activeComment){var i=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,s=this.props.activeComment.selectedCodeBlocks;if(s.forEach((function(s){s.fileId===e.props.activeFileId&&(s.startRow<i&&(i=s.startRow),s.endRow>n&&(n=s.endRow),t.push({startRow:s.startRow,startCol:s.startColumn,endRow:s.endRow,endCol:s.endColumn,type:"text",className:"selectedCodeHighlight"}))})),s.length>0){var a=i-Number.parseInt(this.props.activeComment.linesAbove),l=n+Number.parseInt(this.props.activeComment.linesBelow);t.push({startRow:a,startCol:0,endRow:l,endCol:Number.MAX_SAFE_INTEGER,type:"fullLine",className:"surroundingCodeHighlight"})}}if(this.props.newCodeMarkers){var r=this.props.newCodeMarkers.allNewCodeMarkers;r&&r.forEach((function(e){t.push({startRow:e.startRow,startCol:e.startColumn,endRow:e.endRow,endCol:e.endColumn,type:"text",className:"newCodeHighlight"})}))}return t}},{key:"render",value:function(){var e=this.getMarkers();return Object(h.jsxs)("div",{className:"editorView",children:[Object(h.jsx)(S,{allFiles:this.props.allFiles,allChangedFileIds:this.props.newCodeMarkers&&this.props.newCodeMarkers.allChangedFileIds?this.props.newCodeMarkers.allChangedFileIds:null,activeFileId:this.props.activeFileId,changeActiveFile:this.props.changeActiveFile}),Object(h.jsx)("div",{className:"aceEditor",children:Object(h.jsx)(p.a,{ref:this.aceRef,fontSize:this.props.fontSize,readOnly:!0,showPrintMargin:!1,height:"100%",width:"100%",theme:"monokai",value:this.props.activeFileContents,markers:e})}),Object(h.jsx)(R,{firstRelevantEventIndex:this.props.firstRelevantEventIndex,lastRelevantEventIndex:this.props.lastRelevantEventIndex,commentGroupPositions:this.props.commentGroupPositions,currentEventIndex:this.props.currentEventIndex,activeComment:this.props.activeComment,sliderUpdate:this.props.sliderUpdate,moveToNextComment:this.props.moveToNextComment,isPaused:this.props.isPaused,togglePlayPause:this.props.togglePlayPause})]})}}]),i}(s.a.Component);var L=function(e){var t=Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"gray",className:"bi bi-grip-vertical",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})}),i=Object(h.jsx)(N,{playbackTitle:e.playbackTitle,comments:e.comments,activeComment:e.activeComment,developers:e.developers,developerGroups:e.developerGroups,moveToSelectedComment:e.moveToSelectedComment}),n=Object(h.jsx)(T,{fontSize:e.fontSize,currentEventIndex:e.currentEventIndex,activeFileId:e.activeFileId,activeFileContents:e.activeFileContents,changeActiveFile:e.changeActiveFile,newCodeMarkers:e.newCodeMarkers,activeComment:e.activeComment,allFiles:e.allFiles,allDirectories:e.allDirectories,firstRelevantEventIndex:e.firstRelevantEventIndex,lastRelevantEventIndex:e.lastRelevantEventIndex,commentGroupPositions:e.commentGroupPositions,sliderUpdate:e.sliderUpdate,moveToNextComment:e.moveToNextComment,isPaused:e.isPaused,togglePlayPause:e.togglePlayPause});return Object(h.jsx)("div",{className:"codeView",children:Object(h.jsx)(F.a,{initWidth:e.editorViewWidth,range:{min:5,max:95},left:i,right:n,resizeProps:{bgColor:"rgb(58, 58, 58)",width:10,height:{val:100,unit:"%"}},resizeHandlerProps:{markup:t,position:{x:50,y:50,unit:"%"}},showSwitcher:!1,onResize:e.updateEditorViewWidth})})},A=i(27),B=function(){function e(){Object(r.a)(this,e),this.allDirectories={},this.allFiles={},this.filesContents={},this.filesEvents={}}return Object(o.a)(e,[{key:"getFiles",value:function(){var e=this,t={};return Object.keys(this.filesContents).forEach((function(i){t[i]=e.getFile(i)})),t}},{key:"getFile",value:function(e){for(var t="",i=this.filesContents[e],n=0;n<i.length;n++)for(var s=0;s<i[n].length;s++){var a=i[n][s];t+="NEWLINE"===a||"CR-LF"===a?"\n":"TAB"===a?"\t":a}return t}},{key:"insert",value:function(e,t,i,n,s){if(n===this.filesContents[e].length?(this.filesContents[e].push([t]),this.filesEvents[e].push([i])):(this.filesContents[e][n].splice(s,0,t),this.filesEvents[e][n].splice(s,0,i)),"NEWLINE"===t||"CR-LF"===t){var a=this.filesContents[e][n].splice(s+1,this.filesContents[e][n].length-s),l=this.filesEvents[e][n].splice(s+1,this.filesEvents[e][n].length-s);this.filesContents[e].splice(n+1,0,a),this.filesEvents[e].splice(n+1,0,l)}}},{key:"insertBackward",value:function(e,t,i){this.delete(e,t,i)}},{key:"delete",value:function(e,t,i){if("NEWLINE"===this.filesContents[e][t][i].character||"CR-LF"===this.filesContents[e][t][i].character){if(this.filesContents[e][t].splice(i,1),this.filesEvents[e][t].splice(i,1),t+1<this.filesContents.length){for(var n=this.filesContents[e][t+1].splice(0),s=this.filesEvents[e][t+1].splice(0),a=0;a<n.length;a++)this.filesContents[e][t].push(n[a]),this.filesEvents[e][t].push(s[a]);this.filesContents.splice(t+1,1),this.filesEvents[e].splice(t+1,1)}}else this.filesContents[e][t].splice(i,1),this.filesEvents[e][t].splice(i,1);0===this.filesContents[e][t].length&&(this.filesContents[e].splice(t,1),this.filesEvents[e].splice(t,1))}},{key:"deleteBackward",value:function(e,t,i,n,s){this.insert(e,t,i,n,s)}},{key:"createFile",value:function(e,t,i){this.allFiles[e]={fileId:e,filePath:t,parentDirectoryId:i,isDeleted:!1},this.allDirectories[i].childFiles.push(e),this.filesContents[e]=[],this.filesEvents[e]=[]}},{key:"createFileBackward",value:function(e,t){delete this.allFiles[e];var i=this.allDirectories[t].childFiles.indexOf(e);this.allDirectories[t].childFiles.splice(i,1)}},{key:"deleteFile",value:function(e,t){this.allFiles[e].isDeleted=!0;var i=this.allDirectories[t].childFiles.indexOf(e);this.allDirectories[t].childFiles.splice(i,1)}},{key:"deleteFileBackward",value:function(e,t){this.allFiles[e].isDeleted=!1,this.allDirectories[t].childFiles.push(e)}},{key:"renameFile",value:function(e,t){this.allFiles[e].filePath=t}},{key:"renameFileBackward",value:function(e,t){this.allFiles[e].filePath=t}},{key:"moveFile",value:function(e,t,i,n){this.allFiles[e].parentDirectoryId=i,this.allFiles[e].filePath=t;var s=this.allFiles[n].childFiles.indexOf(e);this.allDirectories[n].childFiles.splice(s,1),this.allDirectories[i].childFiles.push(e)}},{key:"moveFileBackward",value:function(e,t,i,n){this.allFiles[e].parentDirectoryId=n,this.allFiles[e].filePath=t;var s=this.allFiles[i].childFiles.indexOf(e);this.allDirectories[i].childFiles.splice(s,1),this.allDirectories[n].childFiles.push(e)}},{key:"createDirectory",value:function(e,t,i){this.allDirectories[e]={directoryId:e,directoryPath:t,parentDirectoryId:i,childDirectories:[],childFiles:[],isDeleted:!1},i&&this.allDirectories[i].childDirectories.push(e)}},{key:"createDirectoryBackward",value:function(e,t){if(delete this.allDirectories[e],t){var i=this.allDirectories[t].childDirectories.indexOf(e);this.allDirectories[t].childDirectories.splice(i,1)}}},{key:"deleteDirectory",value:function(e,t){if(this.allDirectories[e].isDeleted=!0,t){var i=this.allDirectories[t].childDirectories.indexOf(e);this.allDirectories[t].childDirectories.splice(i,1)}}},{key:"deleteDirectoryBackward",value:function(e,t){this.allDirectories[e].isDeleted=!1,t&&this.allDirectories[t].childDirectories.push(e)}},{key:"renameDirectory",value:function(e,t){this.allDirectories[e].directoryPath=t}},{key:"renameDirectoryBackward",value:function(e,t){this.allDirectories[e].directoryPath=t}},{key:"moveDirectory",value:function(e,t,i,n){if(this.allDirectories[e].parentDirectoryId=i,this.allDirectories[e].directoryPath=t,n){var s=this.allDirectories[n].childDirectories.indexOf(e);this.allDirectories[n].childDirectories.splice(s,1)}i&&this.allDirectories[i].childDirectories.push(e)}},{key:"moveDirectoryBackward",value:function(e,t,i,n){if(this.allDirectories[e].parentDirectoryId=n,this.allDirectories[e].directoryPath=t,i){var s=this.allDirectories[i].childDirectories.indexOf(e);this.allDirectories[i].childDirectories.splice(s,1)}n&&this.allDirectories[n].childDirectories.push(e)}}]),e}(),G=function(){function e(){Object(r.a)(this,e),this.lineChanges=[]}return Object(o.a)(e,[{key:"insert",value:function(e,t,i){if("\n"===i){var n={characters:[],insertsOnLine:!1,deletesOnLine:!1};this.lineChanges[e]&&this.lineChanges[e].characters[t]?n.characters=this.lineChanges[e].characters.splice(t):this.expandToRowAndColumn(e,t),this.lineChanges.splice(e+1,0,n)}else this.expandToRowAndColumn(e,t),this.lineChanges[e].characters.splice(t,0,i),this.lineChanges[e].insertsOnLine=!0}},{key:"expandToRowAndColumn",value:function(e,t){for(;e>=this.lineChanges.length;)this.lineChanges.push({characters:[],insertsOnLine:!1,deletesOnLine:!1});for(;t>this.lineChanges[e].characters.length;)this.lineChanges[e].characters.push("\0")}},{key:"delete",value:function(e,t,i){if("\n"===i)if(e<this.lineChanges.length){if(this.lineChanges[e+1]){if(this.lineChanges[e+1].characters.length>0)for(var n=0;n<this.lineChanges[e+1].characters.length;n++)this.lineChanges[e].characters.push(this.lineChanges[e+1].characters[n]);this.lineChanges.splice(e+1,1)}}else this.expandToRowAndColumn(e,t);else this.lineChanges[e]&&this.lineChanges[e].characters[t]?this.lineChanges[e].characters.splice(t,1):this.expandToRowAndColumn(e,t);this.lineChanges[e].deletesOnLine=!0}},{key:"toDebugString",value:function(){for(var e="",t=0;t<this.lineChanges.length;t++){e+="".concat(t+1,". ");for(var i=0;i<this.lineChanges[t].characters.length;i++)"\0"===this.lineChanges[t].characters[i]?e+=".":"\n"!==this.lineChanges[t].characters[i]&&(e+=this.lineChanges[t].characters[i]);e+="\n"}return e}},{key:"getAllNewCodeMarkers",value:function(){for(var e=[],t=!1,i={},n=0;n<this.lineChanges.length;n++)if(this.lineChanges[n].characters.length>0){for(var s=0;s<this.lineChanges[n].characters.length;s++)"\0"!==this.lineChanges[n].characters[s]?t?i.endColumn=s+1:(i.startRow=n,i.startColumn=s,i.endRow=n,i.endColumn=s+1,t=!0):t&&(e.push(i),t=!1,i={});t&&(e.push(i),t=!1,i={})}return e}},{key:"getLinesWithInserts",value:function(){for(var e=[],t=0;t<this.lineChanges.length;t++)this.lineChanges[t].insertsOnLine&&e.push(t);return e}},{key:"getLinesWithDeletes",value:function(){for(var e=[],t=0;t<this.lineChanges.length;t++)this.lineChanges[t].deletesOnLine&&e.push(t);return e}}]),e}(),z=function(){function e(){Object(r.a)(this,e),this.newCodeFileMarkers={}}return Object(o.a)(e,[{key:"touchFile",value:function(e){this.newCodeFileMarkers[e.fileId]||(this.newCodeFileMarkers[e.fileId]=new G)}},{key:"insert",value:function(e){this.newCodeFileMarkers[e.fileId]||(this.newCodeFileMarkers[e.fileId]=new G);var t=e.character;"NEWLINE"!==e.character&&"CR-LF"!==e.character||(t="\n"),this.newCodeFileMarkers[e.fileId].insert(e.lineNumber-1,e.column-1,t)}},{key:"delete",value:function(e){this.newCodeFileMarkers[e.fileId]||(this.newCodeFileMarkers[e.fileId]=new G);var t=e.character;"NEWLINE"!==e.character&&"CR-LF"!==e.character||(t="\n"),this.newCodeFileMarkers[e.fileId].delete(e.lineNumber-1,e.column-1,t)}},{key:"getAllNewCodeMarkers",value:function(){var e={};for(var t in this.newCodeFileMarkers)e[t]=this.newCodeFileMarkers[t].getAllNewCodeMarkers();return e}},{key:"getNewCodeMarkers",value:function(e){var t=[];return this.newCodeFileMarkers[e]&&(t=this.newCodeFileMarkers[e].getAllNewCodeMarkers()),t}},{key:"getAllInsertLineNumbers",value:function(){var e={};for(var t in this.newCodeFileMarkers)e[t]=this.newCodeFileMarkers[t].getLinesWithInserts();return e}},{key:"getInsertLineNumbers",value:function(e){var t=[];return this.newCodeFileMarkers[e]&&(t=this.newCodeFileMarkers[e].getLinesWithInserts()),t}},{key:"getAllDeleteLineNumbers",value:function(){var e={};for(var t in this.newCodeFileMarkers)e[t]=this.newCodeFileMarkers[t].getLinesWithDeletes();return e}},{key:"getDeleteLineNumbers",value:function(e){var t=[];return this.newCodeFileMarkers[e]&&(t=this.newCodeFileMarkers[e].getLinesWithDeletes()),t}},{key:"getAllChangedFileIds",value:function(){return Object.keys(this.newCodeFileMarkers)}},{key:"getAllData",value:function(){return{allNewCodeMarkers:this.getAllNewCodeMarkers(),allInsertLineNumbers:this.getAllInsertLineNumbers(),allDeleteLineNumbers:this.getAllDeleteLineNumbers(),allChangedFileIds:this.getAllChangedFileIds()}}},{key:"getData",value:function(e){return{allNewCodeMarkers:this.getNewCodeMarkers(e),allInsertLineNumbers:this.getInsertLineNumbers(e),allDeleteLineNumbers:this.getDeleteLineNumbers(e),allChangedFileIds:this.getAllChangedFileIds()}}},{key:"toDebugString",value:function(){for(var e in this.newCodeFileMarkers)console.log("File id: ".concat(e)),console.log(this.newCodeFileMarkers[e].toDebugString()),console.log("")}}]),e}(),U=function(){function e(t,i){Object(r.a)(this,e),this.events=t,this.comments=i,this.editorState=new B,this.newCodeMarkerGenerator=null,this.currentEventIndex=-1,this.activeFileId=null,this.activeComment={comment:null,position:null},this.firstRelevantEventIndex=1,this.numRelevantEvents=this.events.length-1,this.commentIdToEventPosition={},this.commentGroupEventPositions=[],this.flattenedComments=[],this.commentIndexInFlattenedArray={},this.recordCommentPositions(),this.skipIrrelevantEvents()}return Object(o.a)(e,[{key:"recordCommentPositions",value:function(){var e,t=this,i=new Set;Object.keys(this.comments).forEach((function(e){t.comments[e].forEach((function(e){var n=e.displayCommentEvent.eventSequenceNumber;i.add(n),t.commentIdToEventPosition[e.id]=n}))})),(e=this.commentGroupEventPositions).push.apply(e,Object(A.a)(i)),this.commentGroupEventPositions.sort();for(var n=0;n<this.commentGroupEventPositions.length;n++)for(var s=this.commentGroupEventPositions[n],a=this.comments[this.events[s].id],l=0;l<a.length;l++){var r=a[l];this.flattenedComments.push(r),this.commentIndexInFlattenedArray[r.id]=this.flattenedComments.length-1}this.activeComment.comment=this.flattenedComments[0],this.activeComment.position=0}},{key:"skipIrrelevantEvents",value:function(){this.firstRelevantEventIndex=1,this.numRelevantEvents=this.events.length-1;for(var e=1;e<this.events.length&&"never relevant"===this.events[e].permanentRelevance;e++)this.firstRelevantEventIndex++,this.numRelevantEvents--,this.currentEventIndex++;this.stepForward(this.firstRelevantEventIndex)}},{key:"stepForward",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e>0&&this.currentEventIndex<this.events.length-1){this.newCodeMarkerGenerator=t?new z:null;for(var i=0;i<e&&this.currentEventIndex<this.events.length-1;i++){this.currentEventIndex++;var n=this.events[this.currentEventIndex];this.handleEvent(n),this.activeFileId=n.fileId}this.checkForCommentAtCurrentIndex()}}},{key:"stepBackward",value:function(e){if(e>0&&this.currentEventIndex>=this.firstRelevantEventIndex){this.newCodeMarkerGenerator=null;for(var t=0;t<e&&this.currentEventIndex>=this.firstRelevantEventIndex;t++){var i=this.events[this.currentEventIndex];this.handleEventBackward(i),this.activeFileId=i.fileId,this.currentEventIndex--}this.checkForCommentAtCurrentIndex()}}},{key:"stepToEventNumber",value:function(e){var t=e-this.currentEventIndex;t>0?this.stepForward(t):t<0&&this.stepBackward(-t)}},{key:"checkForCommentAtCurrentIndex",value:function(){var e=this.events[this.currentEventIndex];if(this.comments[e.id]){var t=this.comments[e.id][0];this.activeComment.comment=t,this.activeComment.position=this.commentIndexInFlattenedArray[t.id]}else this.activeComment.comment=null}},{key:"stepToCommentById",value:function(e){var t=this.commentIdToEventPosition[e];this.stepToEventNumber(t),this.activeComment.position=this.commentIndexInFlattenedArray[e],this.activeComment.comment=this.flattenedComments[this.activeComment.position]}},{key:"stepToNextComment",value:function(){if(this.activeComment.position<this.flattenedComments.length-1){var e=this.flattenedComments[this.activeComment.position+1];this.stepToCommentById(e.id)}}},{key:"stepToBeginning",value:function(){this.stepToEventNumber(this.firstRelevantEventIndex)}},{key:"stepToEnd",value:function(){this.stepToEventNumber(this.events.length-1)}},{key:"changeActiveFile",value:function(e){this.activeFileId=e}},{key:"getActiveFileContents",value:function(){var e="";return this.activeFileId&&(e=this.editorState.getFile(this.activeFileId)),e}},{key:"getNewCodeMarkers",value:function(){var e=null;return this.activeFileId&&this.newCodeMarkerGenerator&&(e=this.newCodeMarkerGenerator.getData(this.activeFileId)),e}},{key:"getAllFiles",value:function(){return this.editorState.allFiles}},{key:"getAllDirectories",value:function(){return this.editorState.allDirectories}},{key:"handleEvent",value:function(e){if("CREATE DIRECTORY"===e.type)this.editorState.createDirectory(e.directoryId,e.directoryPath,e.parentDirectoryId);else if("DELETE DIRECTORY"===e.type)this.editorState.deleteDirectory(e.directoryId);else if("RENAME DIRECTORY"===e.type)this.editorState.renameDirectory(e.directoryId,e.newDirectoryPath);else if("MOVE  DIRECTORY"===e.type)this.editorState.moveDirectory(e.directoryId,e.newDirectoryPath,e.newParentDirectoryId,e.oldParentDirectoryId);else if("CREATE FILE"===e.type)this.newCodeMarkerGenerator.touchFile(e),this.editorState.createFile(e.fileId,e.filePath,e.parentDirectoryId);else if("DELETE FILE"===e.type)this.editorState.deleteFile(e.fileId,e.parentDirectoryId),this.newCodeMarkerGenerator.touchFile(e);else if("RENAME FILE"===e.type)this.editorState.renameFile(e.fileId,e.newFilePath),this.newCodeMarkerGenerator.touchFile(e);else if("MOVE FILE"===e.type)this.editorState.moveFile(e.fileId,e.newFilePath,e.newParentDirectoryId,e.oldParentDirectoryId);else if("INSERT"===e.type)this.newCodeMarkerGenerator.insert(e),this.editorState.insert(e.fileId,e.character,e.id,e.lineNumber-1,e.column-1);else{if("DELETE"!==e.type)throw Error("Invalid event type: ".concat(e.type));this.newCodeMarkerGenerator.delete(e),this.editorState.delete(e.fileId,e.lineNumber-1,e.column-1)}}},{key:"handleEventBackward",value:function(e){if("CREATE DIRECTORY"===e.type)this.editorState.createDirectoryBackward(e.directoryId,e.parentDirectoryId);else if("DELETE DIRECTORY"===e.type)this.editorState.deleteDirectoryBackward(e.directoryId,e.parentDirectoryId);else if("RENAME DIRECTORY"===e.type)this.editorState.renameDirectoryBackward(e.directoryId,e.oldDirectoryPath);else if("MOVE  DIRECTORY"===e.type)this.editorState.moveDirectoryBackward(e.directoryId,e.oldDirectoryPath,e.newParentDirectoryId,e.oldParentDirectoryId);else if("CREATE FILE"===e.type)this.editorState.createFileBackward(e.fileId,e.parentDirectoryId);else if("DELETE FILE"===e.type)this.editorState.deleteFileBackward(e.fileId,e.parentDirectoryId);else if("RENAME FILE"===e.type)this.editorState.renameFileBackward(e.fileId,e.oldFilePath);else if("MOVE FILE"===e.type)this.editorState.moveFileBackward(e.fileId,e.oldFilePath,e.newParentDirectoryId,e.oldParentDirectoryId);else if("INSERT"===e.type)this.editorState.insertBackward(e.fileId,e.lineNumber-1,e.column-1);else{if("DELETE"!==e.type)throw Error("Invalid event type: ".concat(e.type));this.editorState.deleteBackward(e.fileId,e.character,e.id,e.lineNumber-1,e.column-1)}}}]),e}(),V=function(e){Object(c.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).sliderUpdate=function(e){n.playbackEngine.stepToEventNumber(e),n.setState({currentEventIndex:n.playbackEngine.currentEventIndex,activeComment:n.playbackEngine.activeComment.comment,activeFileId:n.playbackEngine.activeFileId,activeFileContents:n.playbackEngine.getActiveFileContents(),newCodeMarkers:n.playbackEngine.getNewCodeMarkers(),allFiles:n.playbackEngine.getAllFiles(),allDirectories:n.playbackEngine.getAllDirectories()})},n.moveToSelectedComment=function(e){n.playbackEngine.stepToCommentById(e),n.setState({currentEventIndex:n.playbackEngine.currentEventIndex,activeComment:n.playbackEngine.activeComment.comment,activeFileId:n.playbackEngine.activeFileId,activeFileContents:n.playbackEngine.getActiveFileContents(),newCodeMarkers:n.playbackEngine.getNewCodeMarkers(),allFiles:n.playbackEngine.getAllFiles(),allDirectories:n.playbackEngine.getAllDirectories()})},n.moveToNextComment=function(){n.playbackEngine.stepToNextComment(),n.setState({currentEventIndex:n.playbackEngine.currentEventIndex,activeComment:n.playbackEngine.activeComment.comment,activeFileId:n.playbackEngine.activeFileId,activeFileContents:n.playbackEngine.getActiveFileContents(),newCodeMarkers:n.playbackEngine.getNewCodeMarkers(),allFiles:n.playbackEngine.getAllFiles(),allDirectories:n.playbackEngine.getAllDirectories()})},n.togglePlayPause=function(e){n.setState((function(t){return!0===e?(clearInterval(t.autoPlayback.playTimer),t.autoPlayback.playTimer=null):null===t.autoPlayback.playTimer&&(t.autoPlayback.playTimer=setInterval(n.playNextEvent,n.state.autoPlayback.playbackSpeedMs)),t.autoPlayback.isPaused=e,t}))},n.playNextEvent=function(){n.playbackEngine.stepForward(1),null===n.playbackEngine.activeComment.comment&&n.playbackEngine.currentEventIndex!==n.playbackData.events.length-1||n.togglePlayPause(!0),n.setState({currentEventIndex:n.playbackEngine.currentEventIndex,activeComment:n.playbackEngine.activeComment.comment,activeFileId:n.playbackEngine.activeFileId,activeFileContents:n.playbackEngine.getActiveFileContents(),newCodeMarkers:n.playbackEngine.getNewCodeMarkers(),allFiles:n.playbackEngine.getAllFiles(),allDirectories:n.playbackEngine.getAllDirectories()})},n.changeActiveFile=function(e){n.playbackEngine.changeActiveFile(e),n.setState({activeFileId:n.playbackEngine.activeFileId,activeFileContents:n.playbackEngine.getActiveFileContents(),newCodeMarkers:n.playbackEngine.getNewCodeMarkers()})},n.enterCodeMode=function(){n.setState({isInBlogMode:!1})},n.enterBlogMode=function(){n.setState({isInBlogMode:!0})},n.updateEditorViewWidth=function(e){n.setState({editorViewWidth:e.right})},n.playbackData=e.playbackData,n.playbackEngine=new U(e.playbackData.events,e.playbackData.comments),n.firstRelevantEventIndex=n.playbackEngine.firstRelevantEventIndex,n.lastRelevantEventIndex=n.playbackData.events.length-1,n.commentGroupPositions=n.playbackEngine.commentGroupEventPositions,n.state={editorViewWidth:70,isInBlogMode:!1,currentEventIndex:0,activeFileId:null,activeFileContents:"",newCodeMarkers:null,allFiles:{},allDirectories:{},activeComment:n.playbackEngine.activeComment.comment,editorProperties:{fontSize:16},autoPlayback:{isPaused:!0,playTimer:null,playbackSpeedMs:75}},n}return Object(o.a)(i,[{key:"render",value:function(){var e;return e=this.state.isInBlogMode?Object(h.jsx)(g,{fontSize:this.state.editorProperties.fontSize,comments:this.playbackData.comments,title:this.playbackData.playbackTitle,developers:this.playbackData.developers,developerGroups:this.playbackData.developerGroups}):Object(h.jsx)(L,{editorViewWidth:this.state.editorViewWidth,updateEditorViewWidth:this.updateEditorViewWidth,fontSize:this.state.editorProperties.fontSize,activeFileId:this.state.activeFileId,activeFileContents:this.state.activeFileContents,changeActiveFile:this.changeActiveFile,newCodeMarkers:this.state.newCodeMarkers,allFiles:this.state.allFiles,allDirectories:this.state.allDirectories,comments:this.playbackData.comments,playbackTitle:this.playbackData.playbackTitle,activeComment:this.state.activeComment,firstRelevantEventIndex:this.firstRelevantEventIndex,lastRelevantEventIndex:this.lastRelevantEventIndex,commentGroupPositions:this.commentGroupPositions,developers:this.props.playbackData.developers,developerGroups:this.props.playbackData.developerGroups,moveToNextComment:this.moveToNextComment,moveToSelectedComment:this.moveToSelectedComment,togglePlayPause:this.togglePlayPause,currentEventIndex:this.state.currentEventIndex,isPaused:this.state.autoPlayback.isPaused,sliderUpdate:this.sliderUpdate}),Object(h.jsxs)("div",{className:"playbackBox",children:[Object(h.jsx)(u,{playbackTitle:this.playbackData.playbackTitle,enterCodeMode:this.enterCodeMode,enterBlogMode:this.enterBlogMode,isInBlogMode:this.state.isInBlogMode}),Object(h.jsx)("div",{className:"playbackContent",children:e})]})}}]),i}(s.a.Component),W=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,66)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,l=t.getTTFB;i(e),n(e),s(e),a(e),l(e)}))};console.log("Inside script");window.loadPlaybackData(),console.log("Inside script"),l.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(V,{playbackData:{}})}),document.getElementById("root")),W()}]),[[65,1,2]]]);
//# sourceMappingURL=main.6cde2746.chunk.js.map